{% extends "base.html" %}

{% block content %}
<div class="page-header-row">
    <h1 class="page-title">Flights</h1>
    <a href="{{ url_for('main.manager_new_flight') }}" class="btn-primary">Create new flight</a>
</div>

{% if flights %}
<table class="data-table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Route</th>
            <th>Departure</th>
            <th>Arrival</th>
            <th>Profile</th>
            <th>Aircraft</th>
            <th>Status</th>
            <th style="width: 260px;">Actions</th>
        </tr>
    </thead>
    <tbody>
    {% for flight in flights %}
        <tr>
            <td>#{{ flight.FlightId }}</td>
            <td>{{ flight.SourceAirport }} → {{ flight.DestinationAirport }}</td>
            <td>{{ flight.Dep_str }}</td>
            <td>{{ flight.Arr_str }}</td>
            <td>{{ flight.Profile }}</td>
            <td>{{ flight.AircraftModel }}</td>
            <td>{{ flight.Status }}</td>
            <td class="table-actions">
                <a href="{{ url_for('main.manager_edit_flight', flight_id=flight.FlightId) }}"
                   class="btn-small">Edit</a>
                <a href="{{ url_for('main.manager_flight_crew', flight_id=flight.FlightId) }}"
                   class="btn-small">Crew</a>
                <a href="{{ url_for('main.manager_flight_seats', flight_id=flight.FlightId) }}"
                   class="btn-small btn-secondary">Seats &amp; prices</a>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% else %}
<p>No flights defined yet. Use the “Create new flight” button above.</p>
{% endif %}
{% endblock %}